
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the FlashPay API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="flashpay" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1e815a84.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#11affa2be2" class="toc-h1 toc-link" data-title="文档说明">文档说明</a>
          </li>
          <li>
            <a href="#c1ae0a8486" class="toc-h1 toc-link" data-title="接入准备">接入准备</a>
          </li>
          <li>
            <a href="#d972c0c140" class="toc-h1 toc-link" data-title="接口规范">接口规范</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-header" class="toc-h2 toc-link" data-title="HTTP HEADER">HTTP HEADER</a>
                  </li>
                  <li>
                    <a href="#f45a4fe41f" class="toc-h2 toc-link" data-title="公共参数">公共参数</a>
                  </li>
                  <li>
                    <a href="#7b81b8ce22" class="toc-h2 toc-link" data-title="签名算法">签名算法</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#800f2de755" class="toc-h1 toc-link" data-title="相关接口">相关接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3bd7f13059" class="toc-h2 toc-link" data-title="创建二维码订单">创建二维码订单</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#f8519014aa" class="toc-h1 toc-link" data-title="附录">附录</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#229ed96559" class="toc-h2 toc-link" data-title="交易错误码">交易错误码</a>
                  </li>
                  <li>
                    <a href="#5699b4eac7" class="toc-h2 toc-link" data-title="公共错误码">公共错误码</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#26b238cb1d" class="toc-h1 toc-link" data-title="注意事项">注意事项</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://flashpay.co.th/'>Documentation Powered by FlashPay</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='11affa2be2'>文档说明</h1>
<p>在过去的几年中，无现金支付已成为泰国金融基础设施的重要组成部分，QR支付是其主要媒介之一。 FlashPay的开放API平台通过为合作伙伴和初创企业提供在其上进行开发的付款界面，使公众能够利用无现金支付趋势。</p>

<p>本文档用来介绍QR 30支付产品。Thai QR Code Tag 30（QR 30）：支持商户出示QR码模式（C扫描B），在此模式下，用户扫描商户的QR码并使用活期账户或储蓄账户作为资金来源进行付款；大多数主要的泰国银行都支持这种QR支付方式。</p>
<h1 id='c1ae0a8486'>接入准备</h1>
<p>申请AppKey、RSA2签名的公钥私钥(FlashPay的密钥对，商户的密钥对)
- 泰国：
  - 生产环境域名：https://pay-openapi.flashfin.com
  - 测试环境域名：https://test-pay-openapi.flashfin.com</p>

<ul>
<li>马来

<ul>
<li>生产环境域名：https://pay-openapi.flashpayment.my</li>
<li>测试环境域名：https://test-pay-openapi.flashpayment.my</li>
</ul></li>
</ul>
<h1 id='d972c0c140'>接口规范</h1>
<aside class="success">
API 通信统一采用 HTTPS 的 POST 方式，POST 请求类型为 application/json ，UTF-8 编码
</aside>
<h2 id='http-header'>HTTP HEADER</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>The sample value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>Y</td>
<td>string(32)</td>
<td>application/json</td>
<td>商户订单号，32个字符以内、只能包含字母、数字、下划线、横线；需保证在商户端不重复</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>N</td>
<td>string(2)</td>
<td>th</td>
<td>语言，支持th、en、zh-CN，默认英文：en</td>
</tr>
</tbody></table>
<h2 id='f45a4fe41f'>公共参数</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>The sample value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>Y</td>
<td>string(32)</td>
<td>application/json</td>
<td>商户订单号，32个字符以内、只能包含字母、数字、下划线、横线；需保证在商户端不重复</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>N</td>
<td>string(2)</td>
<td>th</td>
<td>语言，支持th、en、zh-CN，默认英文：en</td>
</tr>
</tbody></table>
<h3 id='de992c5ef7'>公共请求参数</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>The sample value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>Y</td>
<td>string(32)</td>
<td>application/json</td>
<td>商户订单号，32个字符以内、只能包含字母、数字、下划线、横线；需保证在商户端不重复</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>N</td>
<td>string(2)</td>
<td>th</td>
<td>语言，支持th、en、zh-CN，默认英文：en</td>
</tr>
</tbody></table>
<h3 id='7c182124b8'>公共响应参数</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>The sample value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>Y</td>
<td>string(32)</td>
<td>application/json</td>
<td>商户订单号，32个字符以内、只能包含字母、数字、下划线、横线；需保证在商户端不重复</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>N</td>
<td>string(2)</td>
<td>th</td>
<td>语言，支持th、en、zh-CN，默认英文：en</td>
</tr>
</tbody></table>
<h2 id='7b81b8ce22'>签名算法</h2>
<aside class="success">
本文涉及到的接口，均需要对请求内容进行签名，并对FlashPay平台返回的内容进行验签！
</aside>
<h3 id='496d8bf212'>访问方式：</h3><h4 id='5b1b0164fc'>商户访问平台</h4>
<p>【商户请求】：商户应当用【商户私钥】对请求内容“签名“，平台收到请求后用【商户公钥】&quot;验签&quot;</p>

<p>【平台响应】：平台应当用【平台私钥】对响应内容“签名“，商户收到响应后用【平台公钥】&quot;验签&quot;</p>
<h4 id='db68fb41c9'>平台访问商户</h4>
<p>【平台请求】：平台应当用【平台私钥】对请求内容“签名“，商户收到请求后用【平台公钥】&quot;验签&quot;</p>

<p>【商户响应】：商户应当用【商户私钥】对响应内容“签名“，平台收到响应后用【商户公钥】&quot;验签&quot;</p>
<h1 id='800f2de755'>相关接口</h1><h2 id='3bd7f13059'>创建二维码订单</h2>
<blockquote>
<p>The request parameter example like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"appKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8045636385012971212808"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"charset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UTF-8"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-12 13:14:15"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"outTradeNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAT-00001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTradeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-12 13:14:15"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cur"</span><span class="p">:</span><span class="w"> </span><span class="s2">"THB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"这是个测试商户订单"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"แฟลชโฮมสแกนเติมเงิน"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expireTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notifyUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://test.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999999"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>对此接口的一个描述。</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /upay/create-qrcode-payment</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>The sample value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>outTradeNo</td>
<td>Y</td>
<td>string(32)</td>
<td>2014072300007148</td>
<td>商户订单号，32个字符以内、只能包含字母、数字、下划线、横线；需保证在商户端不重复</td>
</tr>
<tr>
<td>outTradeTime</td>
<td>Y</td>
<td>string(19)</td>
<td>2020-07-10 12:07:07</td>
<td>商户订单时间，时间字符串，格式：yyyy-MM-dd HH:mm:ss</td>
</tr>
</tbody></table>
<h1 id='f8519014aa'>附录</h1><h2 id='229ed96559'>交易错误码</h2>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>101001</td>
<td>买家余额不足</td>
<td></td>
</tr>
<tr>
<td>101002</td>
<td>银行账户余额不足</td>
<td></td>
</tr>
<tr>
<td>101003</td>
<td>买家状态非法</td>
<td></td>
</tr>
<tr>
<td>101004</td>
<td>卖家状态非法</td>
<td></td>
</tr>
<tr>
<td>101005</td>
<td>账户号不存在</td>
<td></td>
</tr>
<tr>
<td>101006</td>
<td>产品未开通</td>
<td></td>
</tr>
<tr>
<td>101007</td>
<td>未开通支付工具</td>
<td></td>
</tr>
<tr>
<td>101008</td>
<td>未配置算费规则</td>
<td></td>
</tr>
<tr>
<td>101009</td>
<td>交易已支付</td>
<td></td>
</tr>
<tr>
<td>101010</td>
<td>交易已关闭</td>
<td></td>
</tr>
<tr>
<td>101011</td>
<td>交易状态异常</td>
<td></td>
</tr>
<tr>
<td>101012</td>
<td>交易存在风险</td>
<td></td>
</tr>
<tr>
<td>101013</td>
<td>交易失败</td>
<td></td>
</tr>
<tr>
<td>101014</td>
<td>交易不存在</td>
<td></td>
</tr>
<tr>
<td>101015</td>
<td>交易信息被篡改</td>
<td></td>
</tr>
<tr>
<td>101016</td>
<td>单笔交易金额超限</td>
<td></td>
</tr>
<tr>
<td>101017</td>
<td>高风险交易，已被阻断</td>
<td></td>
</tr>
<tr>
<td>101018</td>
<td>交易处理中</td>
<td></td>
</tr>
<tr>
<td>101019</td>
<td>日累计金额超限</td>
<td></td>
</tr>
<tr>
<td>101020</td>
<td>月累计金额超限</td>
<td></td>
</tr>
<tr>
<td>101021</td>
<td>订单金额低于单笔最小金额</td>
<td></td>
</tr>
<tr>
<td>101022</td>
<td>币种不支持</td>
<td></td>
</tr>
<tr>
<td>101023</td>
<td>商户状态异常</td>
<td></td>
</tr>
<tr>
<td>101024</td>
<td>用户状态异常</td>
<td></td>
</tr>
<tr>
<td>101025</td>
<td>付款账号状态异常</td>
<td></td>
</tr>
<tr>
<td>101026</td>
<td>收款账号状态异常</td>
<td></td>
</tr>
<tr>
<td>101027</td>
<td>账户余额不足</td>
<td></td>
</tr>
<tr>
<td>101028</td>
<td>没有支付成功的记录</td>
<td></td>
</tr>
<tr>
<td>101029</td>
<td>未匹配到系统订单</td>
<td></td>
</tr>
<tr>
<td>101030</td>
<td>不足以支付手续费</td>
<td></td>
</tr>
<tr>
<td>101031</td>
<td>支付银行不支持当前分期期数付款</td>
<td></td>
</tr>
<tr>
<td>101032</td>
<td>商户未开通当前支付银行</td>
<td></td>
</tr>
</tbody></table>
<h2 id='5699b4eac7'>公共错误码</h2>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>成功</td>
<td>请求调用成功(不一定是业务成功)</td>
</tr>
<tr>
<td>900000</td>
<td>业务异常</td>
<td>通用业务异常</td>
</tr>
<tr>
<td>910001</td>
<td>非法的请求参数</td>
<td></td>
</tr>
<tr>
<td>910007</td>
<td>验签失败</td>
<td></td>
</tr>
<tr>
<td>999005</td>
<td>关键数据缺失</td>
<td>请求未知错误(状态未知)</td>
</tr>
<tr>
<td>999999</td>
<td>系统错误</td>
<td>请求未知错误(状态未知)</td>
</tr>
</tbody></table>
<h3 id='27fce27256'>错误码解释</h3>
<p>接口确认成功：http状态码==200并且code==0</p>

<p>接口确认失败：http状态码==200并且code &gt; 0 and code &lt; 999000</p>

<p>接口操作结果未知：不是确认成功、也不是确认失败，则为状态未知(else分支)，此时业务状态无法确定，需要回查或者其他机制确认，绝对不能认为是确认失败！！！</p>

<aside class="notice">
上述判断仅用来判断接口的成功失败，具体交易状态，应该参考具体接口返回的具体错误码进行判断！
</aside>
<h1 id='26b238cb1d'>注意事项</h1>
<p>对于传入不同的outTradeNo，商户需保证同一笔商户侧订单(例如：同一笔电商订单)不能重复支付两次！！！</p>

<aside class="notice">
由于支付调用方可能有多个资金渠道，所以当支付正在处理中的时候(例如：超时等原因未能返回具体结果)，如果采用其他资金渠道进行付款，可能会造成用户付多笔，一定要注意！！！需定时主动查询交易结果，以同步双方状态。
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
